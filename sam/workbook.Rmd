---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Cmd+Shift+Enter*. 

```{r}
library(tidyverse)
nodes <- read.csv("./data/sunbelt2019/Dataset1-Media-Example-NODES.csv", header=T, as.is=T)
links <- read.csv("./data/sunbelt2019/Dataset1-Media-Example-EDGES.csv", header=T, as.is=T)

head(nodes)
head(links)
```

```{r}
library(igraph)

net = graph_from_data_frame(d=links, vertices=nodes, directed=T)
net
plot(net)
```
```{r}
E(net)
V(net)
E(net)$type
V(net)[media=='BBC']
```
```{r}
as_adjacency_matrix(net, attr="weight")
```
```{r}
net <- simplify(net, remove.multiple = F, remove.loops = T) 
plot(net, edge.arrow.size=.4,vertex.label=NA)

```
```{r}
nodes2 <- read.csv("./data/sunbelt2019/Dataset2-Media-User-Example-NODES.csv", header=T, as.is=T)
links2 <- read.csv("./data/sunbelt2019/Dataset2-Media-User-Example-EDGES.csv", header=T, row.names=1)
head(nodes2)
head(links2)
```

```{r}
links2 <- as.matrix(links2)
dim(links2)
dim(nodes2)
links2
```
```{r}
net2 <- graph_from_incidence_matrix(links2)
table(V(net2)$type)
```
```{r}
plot(net, edge.arrow.size=.2, edge.color="orange",
     vertex.color="orange", vertex.frame.color="#ffffff",
     vertex.label=V(net)$media, vertex.label.color="black")
```

```{r}
colrs = c("gray50","tomato","gold")
V(net)$color = colrs[V(net)$media.type]

deg = degree(net, mode="all")
V(net)$size = deg*2

V(net)$label = NA

E(net)$width = E(net)$weight/6

E(net)$arrow.size = 0.4
E(net)$edge.color = "gray80"

graph_attr(net, "layout") = layout_with_lgl
plot(net)
```

```{r}
```


```{r}
```


```{r}
```

